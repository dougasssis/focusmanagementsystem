{% extends 'base_template.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% load attendance_tags %}


{% block titulo %}
Student Details
{% endblock%}
{% block content %}

<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-6"> <!--FIRST COLUMN  -->
                <div class="card-body table-responsive p-0">
                <div class="card card-outline card-info">
                <div class="card-header">
                <h3 class="card-title">Informações Pessoais do Aluno  <strong>| {{ aluno.nome|title }}</strong></h3>

                <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
                    <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
                </div>
                <div class="card-body"><!-- /.card-body -->
                    <table class="table table-hover text-nowrap">
                        <thead>
                            <tr>
                                {% if aluno.photo %}
                                <td colspan="2" align=center><img width="300px" src="{{ aluno.photo.url }}"> </td>
                                {% else %}
                                <td colspan="2" align=center><img width="300px" src="{% static 'images/defaultuser.jpeg' %}"> </td>
                                {% endif %}
                            </tr>
                             <tr>
                              <th>Número Id</th>
                              <td>{{ aluno.id }}</td>
                            </tr>
                            <tr>
                                <th>Nome</th>
                                <td>{{ aluno.nome|title }} {{ aluno.surname|title }}</td>
                            </tr>
                            <tr>
                                <th>Telefone</th>
                                <td>{{ aluno.phone }}</td>
                            </tr>
                            <tr>
                                <th>E-Mail</th>
                                <td>{{ aluno.email|lower }}</td>
                            </tr>
                            <tr>
                                <th>Sexo</th>
                                <td>{{ aluno.gender }}</td>
                            </tr>
                            <tr>
                                <th>Primeira Faixa</th>
                                {% if aluno.stripee %}
                                <td>{{ aluno.belt }} - {{ aluno.stripe }}</td>
                                {% else %}
                                <td>{{ aluno.belt }}</td>
                                {% endif %}
                            </tr>
                            <tr>
                                <th>Faixa Atual</th>
                                {% if aluno|current_belt %}
                                <td>{{ aluno|current_belt }} - {{ aluno|current_stripe }} </td>
                                {% else %}
                                <td>{{ aluno.belt }} </td>
                                {% endif %}
                            </tr>
                             <tr>
                                <th>Data de Nascimento</th>
                                <td>{{ aluno.dob|date:"d F Y" }}</td>
                            </tr>
                            <tr>
                                <th>Início</th>
                                <td>{{ aluno.join_date|date:"d F Y" }}</td>
                            </tr>
                            <tr>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
                </div>
                </div>
            </div> <!--FINISH FIRST COLUMN  -->


    <div class="col-lg-6"> <!-- SECOND COLUMN  -->
        <div class="card-body table-responsive p-0">
        <div class="card card-outline card-info">
        <div class="card-header">
            <h3 class="card-title">Histórico de Compras<strong>  </strong></h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
            <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
        </div>
        </div>
        <div class="card-body"><!-- /.card-body -->
            <table class="table table-hover text-nowrap">
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Valor</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                {% for venda in aluno|vendas %}
                    <tr>
                        <td>{{ venda.time_stamp|date:"d F Y" }}</td>
                        <td>{{ venda.price }}</td>
                        <td></td>
                        <td><a href="{% url 'focusbjj:saledetails' venda.pk %}" class="btn btn-primary">Detalhes</a></td>
                {% endfor %}
                </tbody>
                <thead>
                    <tr>
                        <th>Total</th>
                        <th>{{ aluno|somavendas }}</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
            </table>

        </div>
        </div>
        </div>
        </div> <!--FINISH SECOND COLUMN  -->
        </div>
    </div> <!--FINISH FIRST ROW  -->


            <div class="row">
            <div class="col-lg-6"> <!--FIRST COLUMN  -->
                <div class="card-body table-responsive p-0">
                <div class="card card-outline card-info">
                <div class="card-header">
                <h3 class="card-title">Campeonatos <strong></strong></h3>

                <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
                    <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
                </div>
                <div class="card-body"><!-- /.card-body -->
                    <table class="table table-hover text-nowrap">
                        <thead>
                            <tr>
                                <th>Campeonato</th>
                                <th>Categoria</th>
                                <th>Peso</th>
                                <th>Colocação</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                {% for champ in aluno|campeonatos %}
                                <td>{{ champ.championship|title }}</td>
                                <td>{{ champ.category|title }}</td>
                                <td>{{ champ.weight|title }}</td>
                                <td>{{ champ.ranking|title }}</td>
                                {% endfor %}

                        </tbody>
                    </table>
                </div>
                </div>
                </div>
            </div> <!--FINISH FIRST COLUMN  -->


    <div class="col-lg-6"> <!-- SECOND COLUMN  -->
        <div class="card-body table-responsive p-0">
        <div class="card card-outline card-info">
        <div class="card-header">
            <h3 class="card-title">Histórico de Graduação<strong>  </strong></h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
            <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
        </div>
        </div>
        <div class="card-body"><!-- /.card-body -->
            <table class="table table-hover text-nowrap">
                <thead>
                    <tr>
                        <th>Faixa</th>
                        <th>Stripe</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody>
                {% for graduacao in aluno|graduacoes %}
                        <tr>
                        <td>{{ graduacao.belt }}</td>
                        <td>
                            {% if graduacao.stripe %}
                            {{ graduacao.stripe }}
                            {% else %}
                                
                            {% endif %}
                        </td>
                        <td>{{ graduacao.time_stamp|date:"d F Y" }}</td>
                        </tr>
                {% endfor %}
                </tbody>
            </table>

        </div>
        </div>
        </div>
        </div> <!--FINISH SECOND COLUMN  -->
        </div>
    </div> <!--FINISH SECOND COLUMN  -->

    </div>
</div>
</section>


{% endblock %}


